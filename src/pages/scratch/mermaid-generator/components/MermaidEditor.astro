---
// MermaidEditor.astro
import MermaidControls from "./MermaidControls.astro";
---

<div class="mermaid-editor">
  <div class="input-section">
    <div class="section-title">Mermaid Syntax</div>
    <textarea
      id="mermaid-input"
      class="mermaid-input"
      placeholder="Enter your Mermaid syntax here..."></textarea>
    <MermaidControls />
  </div>
</div>

<style>
  @reference "tailwindcss";

  .mermaid-editor {
    @apply w-full;
  }

  .input-section {
    @apply flex flex-col gap-4;
  }

  .section-title {
    @apply text-lg font-medium text-gray-900 dark:text-gray-100;
  }

  .mermaid-input {
    @apply w-full h-64 p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg font-mono text-sm leading-relaxed resize-y transition-colors;
    @apply focus:outline-none focus:border-blue-600 dark:focus:border-blue-400;
    @apply bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100;
  }
</style>

<script>
  import { initializeEditor } from "../shared/core/editor.js";

  // Initialize editor when component is mounted
  document.addEventListener("DOMContentLoaded", () => {
    initializeEditor();
  });
</script>
