---
import Container from "../Container.astro";

// Services section component
interface Service {
  title: string;
  description: string;
  icon: string;
  variant: "purple" | "black" | "green" | "orange";
  image: string;
}

// TODO: Move to content collection
const services: Service[] = [
  {
    title: "Service Design",
    description: "End-to-end service alignment using human-centred tools.",
    icon: "/icons/service-design.svg",
    variant: "purple",
    image:
      "https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
  },
  {
    title: "UX Research",
    description: "Synthesis and evidence for decision-making.",
    icon: "/icons/ux-research.svg",
    variant: "black",
    image:
      "https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
  },
  {
    title: "Prototyping",
    description: "Figma, clickable demos, and flow mapping.",
    icon: "/icons/prototyping.svg",
    variant: "green",
    image:
      "https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
  },
  {
    title: "Bid Strategy",
    description: "RFT structuring, response writing, and win themes.",
    icon: "/icons/bid-strategy.svg",
    variant: "orange",
    image:
      "https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
  },
];

const marketingCopy = {
  title: "How I Work",
  paragraphs: [
    "I believe in a <span class='strong'>practical, no-nonsense</span> approach to service design. While I take my work seriously, I don't take myself too seriously.",
    "My process is <span class='emphasis'>collaborative and transparent</span>. I work closely with stakeholders to understand their needs and constraints, then design solutions that are both innovative and implementable.",
    "I'm not just a designer - I'm a <span class='strong'>strategist, researcher, and facilitator</span>. I help organizations build the capacity to design better services themselves.",
  ],
};
---

<section class="services w-full py-20 bg-white dark:bg-gray-950">
  <Container>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-12">
      <h2 class="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white">
        Services
      </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16">
      {
        services.map((service: Service) => (
          <div
            class={`service-card group relative overflow-hidden rounded-lg bg-${service.variant}-100 dark:bg-${service.variant}-900/30 border border-${service.variant}-200 dark:border-${service.variant}-800/50 shadow-sm`}
          >
            <div class="relative h-48 w-full">
              <img
                src={service.image}
                alt={service.title}
                class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
              />
            </div>
            <div class="p-6">
              <img
                src={service.icon}
                alt=""
                class="w-10 h-10 mb-4 filter dark:invert"
              />
              <h3
                class={`text-xl font-bold mb-2 text-${service.variant}-800 dark:text-${service.variant}-200`}
              >
                {service.title}
              </h3>
              <p class="text-gray-600 dark:text-gray-400">
                {service.description}
              </p>
            </div>
          </div>
        ))
      }
    </div>

    <div class="w-2/3">
      <div class="space-y-2 mb-12">
        {
          marketingCopy.paragraphs.map((paragraph: string) => (
            <p
              class="text-2xl md:text-3xl leading-relaxed text-gray-700 dark:text-gray-300 font-medium"
              set:html={paragraph}
            />
          ))
        }
      </div>
    </div>
  </Container>
</section>

<style is:global>
  .aspect-w-16 {
    position: relative;
    padding-bottom: 56.25%;
  }

  .aspect-h-9 {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  /* Content width class */
  .content-width {
    width: 66.666667%;
  }

  /* Tailwind cannot dynamically generate classes like bg-${variable}-XXX */
  /* Define the background/text colors explicitly if dynamic generation is needed */
  /* Example (add more variants as needed): */
  .bg-purple-100 {
    --tw-bg-opacity: 1;
    background-color: rgb(233 213 255 / var(--tw-bg-opacity));
  }
  .dark .dark\:bg-purple-900\/30 {
    background-color: rgba(126, 34, 206, 0.3);
  }
  .border-purple-200 {
    --tw-border-opacity: 1;
    border-color: rgb(216 180 254 / var(--tw-border-opacity));
  }
  .dark .dark\:border-purple-800\/50 {
    border-color: rgba(168, 85, 247, 0.5);
  }
  .text-purple-800 {
    --tw-text-opacity: 1;
    color: rgb(107 33 168 / var(--tw-text-opacity));
  }
  .dark .dark\:text-purple-200 {
    color: #c084fc;
  }

  /* Add similar definitions for black, green, orange variants */
  .bg-black-100 {
    background-color: #f3f4f6;
  } /* Using gray-100 for black variant */
  .dark .dark\:bg-black-900\/30 {
    background-color: rgba(55, 65, 81, 0.3);
  }
  .border-black-200 {
    border-color: #e5e7eb;
  }
  .dark .dark\:border-black-800\/50 {
    border-color: rgba(75, 85, 99, 0.5);
  }
  .text-black-800 {
    color: #1f2937;
  }
  .dark .dark\:text-black-200 {
    color: #d1d5db;
  }

  .bg-green-100 {
    background-color: #d1fae5;
  }
  .dark .dark\:bg-green-900\/30 {
    background-color: rgba(5, 150, 105, 0.3);
  }
  .border-green-200 {
    border-color: #a7f3d0;
  }
  .dark .dark\:border-green-800\/50 {
    border-color: rgba(6, 182, 212, 0.5);
  }
  .text-green-800 {
    color: #065f46;
  }
  .dark .dark\:text-green-200 {
    color: #6ee7b7;
  }

  .bg-orange-100 {
    background-color: #ffedd5;
  }
  .dark .dark\:bg-orange-900\/30 {
    background-color: rgba(234, 88, 12, 0.3);
  }
  .border-orange-200 {
    border-color: #fed7aa;
  }
  .dark .dark\:border-orange-800\/50 {
    border-color: rgba(249, 115, 22, 0.5);
  }
  .text-orange-800 {
    color: #9a3412;
  }
  .dark .dark\:text-orange-200 {
    color: #fdba74;
  }
</style>
