---
import Icon from "@/components/ui/Icon.astro";
export interface Props {
  type?: "info" | "tip" | "warning" | "australian-standard";
  children: any;
}
const { type = "info", children } = Astro.props;

const typeMap = {
  info: {
    icon: "info",
    bg: "bg-blue-50 dark:bg-blue-900/30",
    border: "border-blue-400",
    text: "text-blue-900 dark:text-blue-100",
    label: "Info",
  },
  tip: {
    icon: "info",
    bg: "bg-green-50 dark:bg-green-900/30",
    border: "border-green-400",
    text: "text-green-900 dark:text-green-100",
    label: "Tip",
  },
  warning: {
    icon: "warning",
    bg: "bg-yellow-50 dark:bg-yellow-900/30",
    border: "border-yellow-400",
    text: "text-yellow-900 dark:text-yellow-100",
    label: "Warning",
  },
  "australian-standard": {
    icon: "flag",
    bg: "bg-purple-50 dark:bg-purple-900/30",
    border: "border-purple-400",
    text: "text-purple-900 dark:text-purple-100",
    label: "Australian Standard",
  },
};
const style = typeMap[type] ?? typeMap.info;
---

<div
  class={`callout border-l-4 p-6 my-8 rounded-xl flex gap-4 items-start ${style.bg} ${style.border}`}
  role="note"
  aria-label={style.label}
>
  <span class={`mt-1`} aria-hidden="true">
    <Icon name={style.icon} class={`w-8 h-8 ${style.text}`} />
  </span>
  <div class={`flex-1 ${style.text}`}>
    <span class="block font-bold text-xl mb-2">{style.label}</span>
    <div class="text-lg"><slot /></div>
  </div>
</div>
