---
import Icon from "@/components/ui/Icon.astro";
export interface Props {
  type?: "info" | "tip" | "warning" | "australian-standard";
  children: any; // Astro.Props['children'] is not a valid type
}
const { type = "info" } = Astro.props;

const typeMap = {
  info: {
    icon: "info",
    bg: "bg-info",
    border: "border-info",
    text: "text-info",
    label: "Info",
  },
  tip: {
    icon: "info",
    bg: "bg-tip",
    border: "border-tip",
    text: "text-tip",
    label: "Tip",
  },
  warning: {
    icon: "warning",
    bg: "bg-warning",
    border: "border-warning",
    text: "text-warning",
    label: "Warning",
  },
  "australian-standard": {
    icon: "flag",
    bg: "bg-australian-standard",
    border: "border-australian-standard",
    text: "text-australian-standard",
    label: "Australian Standard",
  },
};
const style = typeMap[type] ?? typeMap.info;
---

<div
  class={`callout border-l-4 p-6 my-8 rounded-xl flex gap-4 items-start ${style.bg} ${style.border}`}
  role="note"
  aria-label={style.label}
>
  <span class={`mt-1`} aria-hidden="true">
    <Icon name={style.icon} class={`w-8 h-8 ${style.text}`} />
  </span>
  <div class={`flex-1 ${style.text}`}>
    <span class="block font-bold text-xl mb-2">{style.label}</span>
    <div class="text-lg"><slot /></div>
  </div>
</div>
