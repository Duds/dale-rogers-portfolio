---
/**
 * @fileoverview Button component that can render as either a button or anchor element.
 * Supports multiple variants and inherits all standard HTML button/anchor attributes.
 */

import type { ButtonProps } from "./types";
import "@/styles/components/button.css";

interface Props extends ButtonProps {}

const { href, variant = "primary", class: className, ...rest } = Astro.props;

const baseStyles = "button";
const variantStyles: Record<NonNullable<Props["variant"]>, string> = {
  primary: "button--primary",
  secondary: "button--secondary",
  outline: "button--outline",
};
const combinedClasses = [baseStyles, variantStyles[variant], className]
  .filter(Boolean)
  .join(" ");
---

{
  href ? (
    <a href={href} class={combinedClasses} {...rest}>
      <slot />
    </a>
  ) : (
    <button class={combinedClasses} {...rest}>
      <slot />
    </button>
  )
}
